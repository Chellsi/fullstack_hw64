# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
fullstack_hw61/
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/                    # –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ (MVC)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usersController.js         # –õ–æ–≥—ñ–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ articlesController.js      # –õ–æ–≥—ñ–∫–∞ —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/                    # Middleware —Ñ—É–Ω–∫—Ü—ñ—ó
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js                   # –í—Å—ñ middleware
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ logRequests()          # –õ–æ–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ basicAuth()            # –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ validateUserInput()    # –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ validateArticleInput() # –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ checkArticleAccess()   # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ checkResourceExists()  # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/                         # –ú–∞—Ä—à—Ä—É—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.js                   # –ú–∞—Ä—à—Ä—É—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ articles.js                # –ú–∞—Ä—à—Ä—É—Ç–∏ —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ views/                          # –®–∞–±–ª–æ–Ω–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/                     # –®–∞–±–ª–æ–Ω–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (PUG)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.pug             # –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ detail.pug            # –î–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ articles/                  # –®–∞–±–ª–æ–Ω–∏ —Å—Ç–∞—Ç–µ–π (EJS)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ejs             # –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ detail.ejs            # –î–µ—Ç–∞–ª—ñ —Å—Ç–∞—Ç—Ç—ñ
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ partials/                  # –ß–∞—Å—Ç–∫–æ–≤—ñ —à–∞–±–ª–æ–Ω–∏ (EJS)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header.ejs            # Header
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ footer.ejs            # Footer
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.pug                 # –ì–æ–ª–æ–≤–Ω–∏–π layout (PUG)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.pug                  # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ (PUG)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ error.pug                  # –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ–º–∏–ª–∫–∏ (PUG)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ public/                         # –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ css/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ style.css              # –û—Å–Ω–æ–≤–Ω—ñ —Å—Ç–∏–ª—ñ
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ __test__/                       # –¢–µ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ task1.test.js              # Unit —Ç–µ—Å—Ç–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ server.mjs                      # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ test-api.sh                         # –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API
‚îú‚îÄ‚îÄ test-web-pages.sh                   # –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–æ–∫
‚îú‚îÄ‚îÄ package.json                        # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø—Ä–æ–µ–∫—Ç—É
‚îú‚îÄ‚îÄ package-lock.json                   # –ó–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ –≤–µ—Ä—Å—ñ—ó
‚îú‚îÄ‚îÄ README.md                           # –ì–æ–ª–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ QUICKSTART.md                       # –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
‚îî‚îÄ‚îÄ PROJECT_STRUCTURE.md                # –¶–µ–π —Ñ–∞–π–ª
```

## üìä –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –º–æ–¥—É–ª—ñ–≤

### üéõ Controllers (–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏)

**usersController.js**
- –û–±—Ä–æ–±–ª—è—î –ª–æ–≥—ñ–∫—É –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ú—ñ—Å—Ç–∏—Ç—å —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è HTML —Å—Ç–æ—Ä—ñ–Ω–æ–∫ —Ç–∞ API
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î mock –¥–∞–Ω—ñ

**articlesController.js**
- –û–±—Ä–æ–±–ª—è—î –ª–æ–≥—ñ–∫—É –¥–ª—è —Å—Ç–∞—Ç–µ–π
- –ú—ñ—Å—Ç–∏—Ç—å —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è HTML —Å—Ç–æ—Ä—ñ–Ω–æ–∫ —Ç–∞ API
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î mock –¥–∞–Ω—ñ

### üîß Middlewares

**index.js** - –º—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ middleware:
1. `logRequests` - –ª–æ–≥—É–≤–∞–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É
2. `basicAuth` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ Authorization –∑–∞–≥–æ–ª–æ–≤–∫–∞
3. `validateUserInput` - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–æ–ª—è name
4. `validateArticleInput` - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–æ–ª—è title
5. `checkArticleAccess` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É (admin/author)
6. `checkResourceExists` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É –∑–∞ ID

### üõ£ Routes (–ú–∞—Ä—à—Ä—É—Ç–∏)

**users.js**
```
GET    /users/page           ‚Üí getUsersPage (PUG)
GET    /users/page/:userId   ‚Üí getUserByIdPage (PUG)
GET    /users                ‚Üí getUsersApi (text)
POST   /users                ‚Üí createUser (text)
GET    /users/:userId        ‚Üí getUserByIdApi (text)
PUT    /users/:userId        ‚Üí updateUser (text)
DELETE /users/:userId        ‚Üí deleteUser (text)
```

**articles.js**
```
GET    /articles/page             ‚Üí getArticlesPage (EJS)
GET    /articles/page/:articleId  ‚Üí getArticleByIdPage (EJS)
GET    /articles                  ‚Üí getArticlesApi (text)
POST   /articles                  ‚Üí createArticle (text)
GET    /articles/:articleId       ‚Üí getArticleByIdApi (text)
PUT    /articles/:articleId       ‚Üí updateArticle (text)
DELETE /articles/:articleId       ‚Üí deleteArticle (text)
```

### üé® Views (–®–∞–±–ª–æ–Ω–∏)

#### PUG Templates (–¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
- `layout.pug` - –±–∞–∑–æ–≤–∏–π layout –∑ header/footer
- `index.pug` - –≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
- `users/index.pug` - —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `users/detail.pug` - –¥–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `error.pug` - —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ–º–∏–ª–∫–∏

#### EJS Templates (–¥–ª—è —Å—Ç–∞—Ç–µ–π)
- `partials/header.ejs` - header (HTML head + nav)
- `partials/footer.ejs` - footer
- `articles/index.ejs` - —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
- `articles/detail.ejs` - –¥–µ—Ç–∞–ª—ñ —Å—Ç–∞—Ç—Ç—ñ

### üé® Public (–°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏)

**css/style.css** - –º—ñ—Å—Ç–∏—Ç—å —Å—Ç–∏–ª—ñ –¥–ª—è:
- Reset —Ç–∞ –±–∞–∑–æ–≤—ñ —Å—Ç–∏–ª—ñ
- Header —Ç–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
- Hero —Å–µ–∫—Ü—ñ—è
- –ö–∞—Ä—Ç–∫–∏ (users, articles)
- –ö–Ω–æ–ø–∫–∏ —Ç–∞ —Ñ–æ—Ä–º–∏
- Responsive –¥–∏–∑–∞–π–Ω
- –ê–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ transitions

### üß™ Tests

**task1.test.js**
- –¢–µ—Å—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö API endpoints
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ñ–≤
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è middleware

## üîÑ –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö

### HTML –ó–∞–ø–∏—Ç (–±—Ä–∞—É–∑–µ—Ä)
```
Browser ‚Üí Express ‚Üí Route ‚Üí Controller ‚Üí View (PUG/EJS) ‚Üí HTML
```

### API –ó–∞–ø–∏—Ç (curl/Postman)
```
Client ‚Üí Express ‚Üí Middleware ‚Üí Route ‚Üí Controller ‚Üí Text/JSON
```

## üì¶ –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

### Production
- `express@^4.18.2` - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `pug@^3.0.2` - —à–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä
- `ejs@^3.1.9` - —à–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä

### Development
- `nodemon@^3.0.1` - –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- `vitest@^3.1.1` - —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- `supertest@^6.3.3` - HTTP —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## üéØ –ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

‚úÖ **MVC –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞** - —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏, –º–∞—Ä—à—Ä—É—Ç—ñ–≤ —Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è
‚úÖ **–î–≤–∞ —à–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä–∏** - PUG –¥–ª—è users, EJS –¥–ª—è articles
‚úÖ **Middleware —Å–∏—Å—Ç–µ–º–∞** - –ª–æ–≥—É–≤–∞–Ω–Ω—è, –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è
‚úÖ **Responsive –¥–∏–∑–∞–π–Ω** - –∞–¥–∞–ø—Ç–∞—Ü—ñ—è –ø—ñ–¥ –≤—Å—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó
‚úÖ **Gradient UI** - —Å—É—á–∞—Å–Ω–∏–π –¥–∏–∑–∞–π–Ω –∑ –≥—Ä–∞–¥—ñ—î–Ω—Ç–∞–º–∏
‚úÖ **Mock –¥–∞–Ω—ñ** - –≥–æ—Ç–æ–≤—ñ –¥–∞–Ω—ñ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó
‚úÖ **Error handling** - –æ–±—Ä–æ–±–∫–∞ 404 —Ç–∞ 500 –ø–æ–º–∏–ª–æ–∫
‚úÖ **Static files** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ CSS —Ç–∞ —ñ–Ω—à–∏—Ö —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

## üìà –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å

–ü—Ä–æ–µ–∫—Ç –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è:

1. **–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ä–µ—Å—É—Ä—Å**:
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ controller
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ route
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ views
   - –î–æ–¥–∞—Ç–∏ —Å—Ç–∏–ª—ñ

2. **–î–æ–¥–∞—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö**:
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ models –ø–∞–ø–∫—É
   - –ó–∞–º—ñ–Ω–∏—Ç–∏ mock –¥–∞–Ω—ñ –Ω–∞ –∑–∞–ø–∏—Ç–∏ –¥–æ –ë–î

3. **–î–æ–¥–∞—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é**:
   - –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ JWT –∞–±–æ Passport.js
   - –û–Ω–æ–≤–∏—Ç–∏ middleware

4. **–î–æ–¥–∞—Ç–∏ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é**:
   - –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ Swagger/OpenAPI